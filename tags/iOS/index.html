<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 3.9.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>标签: iOS - lee的博客</title>


    <meta name="description" content="人一旦有了梦想，怎么活都是有灵魂的">
<meta name="keywords" content="Go Python iOS 全栈">
<meta property="og:type" content="website">
<meta property="og:title" content="lee的博客">
<meta property="og:url" content="https://leejnull.github.io/tags/iOS/index.html">
<meta property="og:site_name" content="lee的博客">
<meta property="og:description" content="人一旦有了梦想，怎么活都是有灵魂的">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://leejnull.github.io/images/og_image.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="lee的博客">
<meta name="twitter:description" content="人一旦有了梦想，怎么活都是有灵魂的">
<meta name="twitter:image" content="https://leejnull.github.io/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-146062679-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-146062679-1');
</script>


    
    
<script>
var _hmt = _hmt || [];
(function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?7a01d8b4b2d5c464214cfb2a73f0f739";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
})();
</script>

    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="lee的博客" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">主页</a>
                
                <a class="navbar-item"
                href="/archives">归档</a>
                
                <a class="navbar-item"
                href="/categories">分类</a>
                
                <a class="navbar-item"
                href="/tags">标签</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="搜索" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main"><div class="card">
    <div class="card-content">
        <nav class="breadcrumb" aria-label="breadcrumbs">
        <ul>
            <li><a href="/tags">标签</a></li>
            <li class="is-active"><a href="#" aria-current="page">iOS</a></li>
        </ul>
        </nav>
    </div>
</div>

    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2021-04-12T16:38:22.000Z">2021-04-13</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    8 分钟 读完 (大约 1128 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2021/04/13/iOS绘制五角星，实现小数点分数填充/">iOS绘制五角星，实现小数点分数填充</a>
            
        </h1>
        <div class="content">
            <blockquote>
<p>最近有一个需求是要显示分数和星星图标，如果是4.8分就显示4个星星+80%填充的星星。  </p>
</blockquote>
<p>参考美团</p>
<p><img src="/images/2021-04-13-01.png" alt></p>
<h2 id="一开始想的是通过UIBezierPath-CAShapeLayer手动绘制"><a href="#一开始想的是通过UIBezierPath-CAShapeLayer手动绘制" class="headerlink" title="一开始想的是通过UIBezierPath+CAShapeLayer手动绘制"></a>一开始想的是通过UIBezierPath+CAShapeLayer手动绘制</h2><p>然后上网找了一大堆五角星的坐标系算法，最后发现要么算的不对，要么太过于复杂，整个过程还是很麻烦的，而且一旦设计要的五角星图标还有各种弧线圆角，那算起来就更是一个无底洞了。所以这个方案直接pass。</p>
<h2 id="图层蒙版"><a href="#图层蒙版" class="headerlink" title="图层蒙版"></a>图层蒙版</h2><p>最近刚看完了《Core Animation》这本书（PS：讲的非常好，推荐大家一读），了解到CALayer有一个<strong>contents</strong>属性。</p>
<blockquote>
<p>CALayer 有一个属性叫做 contents ，这个属性的类型被定义为id，意味着它可以 是任何类型的对象。在这种情况下，你可以给 contents属性赋任何值，你的app 仍然能够编译通过。但是，在实践中，如果你给 contents赋的不是CGImage， 那么你得到的图层将是空白的。<br>contents 这个奇怪的表现是由Mac OS的历史原因造成的。它之所以被定义为id 类型，是因为在Mac OS系统上，这个属性对CGImage和NSImage类型的值都起作 用。如果你试图在iOS平台上将UIImage的值赋给它，只能得到一个空白的图层。 一些初识Core Animation的iOS开发者可能会对这个感到困惑。<br>头疼的不仅仅是我们刚才提到的这个问题。事实上，你真正要赋值的类型应该是 CGImageRef，它是一个指向CGImage结构的指针。UIImage有一个CGImage属 性，它返回一个”CGImageRef”,如果你想把这个值直接赋值给CALayer的 contents ，那你将会得到一个编译错误。因为CGImageRef并不是一个真正的 Cocoa对象，而是一个Core Foundation类型。<br>尽管Core Foundation类型跟Cocoa对象在运行时貌似很像(被称作toll-free bridging)，他们并不是类型兼容的，不过你可以通过bridged关键字转换。如果要 给图层的寄宿图赋值，你可以按照以下这个方法:<br><code>layer.contents = (__bridge id)image.CGImage;</code>  </p>
</blockquote>
<p> 同时CALayer有一个<strong>mask</strong>属性，</p>
<blockquote>
<p>CALayer有一个属性叫做 mask 可以解决这个问题。这个属性本身就是个 CALayer类型，有和其他图层一样的绘制和布局属性。它类似于一个子图层，相对 于父图层(即拥有该属性的图层)布局，但是它却不是一个普通的子图层。不同于 那些绘制在父图层中的子图层， mask 图层定义了父图层的部分可见区域。<br>mask 图层的 Color 属性是无关紧要的，真正重要的是图层的轮廓。 mask 属 性就像是一个饼干切割机， mask 图层实心的部分会被保留下来，其他的则会被抛 弃。<br>如果 mask 图层比父图层要小，只有在 mask 图层里面的内容才是它关心的， 除此以外的一切都会被隐藏起来。   </p>
</blockquote>
<p><img src="/images/2021-04-13-02.png" alt></p>
<h2 id="最终方案"><a href="#最终方案" class="headerlink" title="最终方案"></a>最终方案</h2><p>那么，我们是不是就可以这样：我通过contents属性读取一张星星的图片赋值给一个layer图层，这个图层的绘制区域就会是整个图片区域，然后把这个图层作为mask赋值给我们的星星视图（就叫StarView）。那么StarView的可见区域只会是星星区域，其它部分都会被抛弃。</p>
<figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">UIImage</span> *starImage = [<span class="hljs-built_in">UIImage</span> imageNamed:<span class="hljs-string">@"star"</span>];</span><br><span class="line"><span class="hljs-built_in">CALayer</span> *maskLayer = [<span class="hljs-built_in">CALayer</span> layer];</span><br><span class="line">maskLayer.frame = <span class="hljs-built_in">CGRectMake</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, w, h);</span><br><span class="line">maskLayer.contents = (__bridge <span class="hljs-keyword">id</span>)starImage.CGImage;</span><br><span class="line"><span class="hljs-keyword">self</span>.layer.mask = maskLayer;</span><br></pre></td></tr></table></figure>

<p>这样我们的星星图案就出来了，这时候我在加一个view或者layer作为填充色覆盖</p>
<figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">CALayer</span> *fillLayer = [[<span class="hljs-built_in">CALayer</span> alloc] init];</span><br><span class="line">fillLayer.frame = <span class="hljs-built_in">CGRectMake</span>(-w + w*<span class="hljs-number">0.7</span>, <span class="hljs-number">0</span>, w, h);</span><br><span class="line">fillLayer.backgroundColor = [<span class="hljs-built_in">UIColor</span> orangeColor].CGColor;</span><br><span class="line">[<span class="hljs-keyword">self</span>.layer addSublayer:fillLayer];</span><br></pre></td></tr></table></figure>

<p>这样，我们就实现了按照小数点多少来填充星星的效果了！</p>
<p><img src="/images/2021-04-13-03.png" alt></p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>强烈推荐没看过《Core Animation》这本书的同学看一遍，里面讲的很多知识点都是非常实用的。相信大家也都会收获良多。</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-12-09T14:43:35.000Z">2020-12-09</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    8 分钟 读完 (大约 1163 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/12/09/schema实现iOS项目多环境配置/">schema实现iOS项目多环境配置</a>
            
        </h1>
        <div class="content">
            <blockquote>
<p>当前公司项目有test1，test2，stage，pre，prod5套环境，每次不同环境下测试都要手动修改url和一些第三方服务的APPID，手动修改往往会出错，造成很多不便，也不利于以后的自动化打包发布。  </p>
</blockquote>
<h2 id="添加环境变量"><a href="#添加环境变量" class="headerlink" title="添加环境变量"></a>添加环境变量</h2><p>第一次遇到这个需求，首先想到的就是通过环境变量来区分，之前开发的时候一般用到<code>DEBUG</code>这个环境变量</p>
<figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#ifdef DEBUG</span></span><br><span class="line"><span class="hljs-comment">// xxx</span></span><br><span class="line"><span class="hljs-meta">#end</span></span><br></pre></td></tr></table></figure>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2020/12/09/schema实现iOS项目多环境配置/#more">阅读更多</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-11-19T16:15:36.000Z">2020-11-20</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    12 分钟 读完 (大约 1850 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/11/20/iOS绘制仪表盘，游标沿圆形轨迹移动动画/">iOS绘制仪表盘，游标沿圆形轨迹移动动画</a>
            
        </h1>
        <div class="content">
            <p><img src="/images/2020-11-20-01.png" alt></p>
<p>最近碰到一个需求，需要画一个仪表盘的页面。图上所示。</p>
<p>圆弧部分还好，用CAShapeLayer+UIBezierPath曲线，只要确定好圆心部分和左右两边的角度就行。这里正好说明一下</p>
<figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="hljs-keyword">void</span>)addArcWithCenter:(<span class="hljs-built_in">CGPoint</span>)center radius:(<span class="hljs-built_in">CGFloat</span>)radius startAngle:(<span class="hljs-built_in">CGFloat</span>)startAngle endAngle:(<span class="hljs-built_in">CGFloat</span>)endAngle clockwise:(<span class="hljs-built_in">BOOL</span>)clockwise API_AVAILABLE(ios(<span class="hljs-number">4.0</span>));</span><br></pre></td></tr></table></figure>

<p>这个接口startAngle、endAngle和clockwise的关系，之前一直记不太清。</p>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2020/11/20/iOS绘制仪表盘，游标沿圆形轨迹移动动画/#more">阅读更多</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-09-16T15:06:45.000Z">2020-09-16</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 分钟 读完 (大约 439 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/09/16/彻底区分isKindOfClass和isMemberOfClass/">彻底区分isKindOfClass和isMemberOfClass</a>
            
        </h1>
        <div class="content">
            <blockquote>
<p>以前用到这两个函数的时候，总是会分不清这两个函数的作用，记了笔记也经常翻出来看，这次就来彻底了解一下  </p>
</blockquote>
<h2 id="以前的笔记"><a href="#以前的笔记" class="headerlink" title="以前的笔记"></a>以前的笔记</h2><p><img src="/images/2020-09-16-01.png" alt></p>
<h2 id="先看一下isKindOfClass"><a href="#先看一下isKindOfClass" class="headerlink" title="先看一下isKindOfClass"></a>先看一下isKindOfClass</h2><p>作用都清楚了，我们直接去objc的源码项目里去看，先看isKindOfClass<br><img src="/images/2020-09-16-02.png" alt></p>
<p>实例方法是查找对象所属的类，然后比较，不相等就再找父类，直到NSObject（因为NSObject的superclass = nil)。<br>类方法是查找类的ISA指针，实力的ISA指针指向类，类的ISA指针指向元类。元类的父类最后会找到NSObject上。</p>
<p>关于ISA的走势图，大家应该都熟悉这张图，这里就不再多说了。<br><img src="/images/2020-09-16-03.png" alt></p>
<p>所以关于isKindOfClass的实现原理差不多就是这样</p>
<h2 id="再看看isMemberOfClass"><a href="#再看看isMemberOfClass" class="headerlink" title="再看看isMemberOfClass"></a>再看看isMemberOfClass</h2><p><img src="/images/2020-09-16-04.png" alt></p>
<p>也分实例方法和类方法。<br>实例方法是把自身所属的类和传入的类作比较，静态方法是把自身的ISA指针和传入的类做比较。</p>
<p>通过这四个函数的实现，也符合了之前笔记的总结。</p>
<h2 id="看一下一个面试题"><a href="#看一下一个面试题" class="headerlink" title="看一下一个面试题"></a>看一下一个面试题</h2><blockquote>
<p>BOOL res1 = [(id)[NSObject class] isKindOfClass:[NSObject class]];<br>BOOL res2 = [(id)[NSObject class] isMemberOfClass:[NSObject class]];<br>BOOL res3 = [(id)[TestObject class] isKindOfClass:[TestObject class]];<br>BOOL res4 = [(id)[TestObject class] isMemberOfClass:[TestObject class]];<br>他们的结果是多少？  </p>
</blockquote>
<p>这些都是类方法的isKindOfClass和isMemberOfClass比较。NSObject的ISA会指向元类NSObject，元类NSObject的superClass又指向NSObject自己。TestObject的ISA指向TestObject元类，TestObject元类的superClass最后又会指向NSObject根元类，再指向NSObject。</p>
<p>所以上面的结果出了第一个是YES，剩下的都是NO。</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-07-15T11:52:08.000Z">2020-07-15</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 分钟 读完 (大约 815 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/07/15/如何继承一个带有Xib的ViewController/">如何继承一个带有Xib的ViewController</a>
            
        </h1>
        <div class="content">
            <h2 id="先来看看一个UIViewController的初始化过程"><a href="#先来看看一个UIViewController的初始化过程" class="headerlink" title="先来看看一个UIViewController的初始化过程"></a>先来看看一个UIViewController的初始化过程</h2><p><img src="/images/2020-07-15-01.png" alt></p>
<p>如果这个ViewController是在Storyboard创建显示的，那么会走initWithCode的方法，否则都会走initWithNibName:bundle。</p>
<p>但是我们发现，在展示一个Xib的UIViewController和纯代码的UIViewController的时候，他们的方式是一样的，即</p>
<figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">XibViewController *ctrl = [[XibViewController alloc] init];</span><br><span class="line">[<span class="hljs-keyword">self</span>.navigationController pushViewController:ctrl animated:<span class="hljs-literal">YES</span>];</span><br></pre></td></tr></table></figure>

<p>而且打印发现，传入的nib name都是null</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2020-07-15 19:03:00.721069+0800 AwesomeOC[19613:229780] XibViewController init with nib name: (null) | (null)</span><br></pre></td></tr></table></figure>

<p>那么xib上的视图又是什么时候关联到对应的ViewController上的呢？</p>
<h2 id="loadView的作用"><a href="#loadView的作用" class="headerlink" title="loadView的作用"></a>loadView的作用</h2><blockquote>
<p>这个方法中，要正式加载View了。首先我们得知道，控制器 view 是通过懒加载的方式进行加载的，即用到的时候再加载。永远不要主动调用这个方法。当我们用到控制器 view 时，就会调用控制器 view 的 get 方法，在 get 方法内部，首先判断 view 是否已经创建，如果已存在，则直接返回存在的 view，如果不存在，则调用控制器的 loadView 方法，在控制器没有被销毁的情况下，loadView 也可能会被执行多次。  </p>
</blockquote>
<p>当ViewController有以下情况时，都会在此方法中从nib文件加载view：</p>
<ul>
<li>ViewController是通过storyboard中实例化的</li>
<li>通过initWithNibName:bundle:初始化</li>
<li>在App Bundle中有一个nib文件名称和本类名相同</li>
</ul>
<p>所以，当我们push一个带有xib的ViewController时，虽然和纯代码创建的ViewController一样初始化都是传入的nil，但是在loadView这一步会加载对应nib文件中的view。而没有关联xib文件的ViewController，就会默认创建一个空白的UIView对象，然后让这个对象成为ViewController的主view。</p>
<h2 id="那么该如何继承"><a href="#那么该如何继承" class="headerlink" title="那么该如何继承"></a>那么该如何继承</h2><p>在ViewController的生命周期中，在loadView那一步才算是真正的把View关联到ViewController上，在这一步，默认是一个空白的View，如果有对应nib文件或指定了nib文件，那么就从nib文件加载，还可以自定义view然后关联到ViewController上。</p>
<p>所以要想实现继承ViewController，复用父ViewController的页面的话，那么就要想办法加载到父ViewController的view。<br>现在默认有这样两个ViewController<br><img src="/images/2020-07-15-02.png" alt></p>
<p>SubXibViewController继承自XibViewController。</p>
<p>当我用普通的方式展示SubXibViewController的时候。</p>
<figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SubXibViewController *ctrl = [[SubXibViewController alloc] init];</span><br><span class="line">[<span class="hljs-keyword">self</span>.navigationController pushViewController:ctrl animated:<span class="hljs-literal">YES</span>];</span><br></pre></td></tr></table></figure>

<p>SubXibViewController不符合从nib文件加载view的三个条件，它只会创建一个空白的View。它的父VC并没有在ViewDidLoad中有任何代码创建视图的操作。</p>
<p>我们这时候看一下条件2：通过initWithNibName:bundle:初始化。<br>也就是说，如果我们指定一个nib文件来初始化，在loadView的那一步，他就会从nib文件加载view。即</p>
<figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SubXibViewController *ctrl = [[SubXibViewController alloc] initWithNibName:<span class="hljs-string">@"XibViewController"</span> bundle:<span class="hljs-literal">nil</span>];</span><br><span class="line">[<span class="hljs-keyword">self</span>.navigationController pushViewController:ctrl animated:<span class="hljs-literal">YES</span>];</span><br></pre></td></tr></table></figure>

<p>我们指定父VC的xib文件，最终效果大家可以试验一下，子VC会加载父VC的View，这样就实现了继承复用父类View的效果了！</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-07-06T05:35:53.000Z">2020-07-06</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 分钟 读完 (大约 384 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/07/06/Swift-enum类型添加Codable默认值/">Swift enum类型添加Codable默认值</a>
            
        </h1>
        <div class="content">
            <p>Swift开发中在数据转model这一层，我采用了苹果官方的Codable协议来实现。Codable的具体步骤可以参考网上一大堆教程。<br>后台有时候会返回一些表示枚举的字符串数值，在转成model的过程中，会把这个字段设置成对应的Swift枚举。</p>
<figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">enum</span> ToolType: String, Codable &#123;</span><br><span class="line">    <span class="hljs-comment">/// 自行车</span></span><br><span class="line">    <span class="hljs-keyword">case</span> Bike = <span class="hljs-string">"1"</span></span><br><span class="line">    <span class="hljs-comment">/// 电瓶车</span></span><br><span class="line">    <span class="hljs-keyword">case</span> Electromobile = <span class="hljs-string">"2"</span></span><br><span class="line">    <span class="hljs-comment">/// 大踏板车</span></span><br><span class="line">    <span class="hljs-keyword">case</span> Scooter = <span class="hljs-string">"3"</span></span><br><span class="line">    <span class="hljs-comment">/// 摩托车</span></span><br><span class="line">    <span class="hljs-keyword">case</span> Motorbike = <span class="hljs-string">"4"</span></span><br><span class="line">    <span class="hljs-comment">/// 轿车</span></span><br><span class="line">    <span class="hljs-keyword">case</span> Sedan = <span class="hljs-string">"5"</span></span><br><span class="line">    <span class="hljs-comment">/// 小货车</span></span><br><span class="line">    <span class="hljs-keyword">case</span> Buggy = <span class="hljs-string">"6"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">struct</span> Model &#123;</span><br><span class="line">    var toolType: ToolType?</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">extension Model: Codable &#123;</span><br><span class="line">    <span class="hljs-keyword">enum</span> CodingKeys: String, CodingKey &#123;</span><br><span class="line">        <span class="hljs-keyword">case</span> toolType = <span class="hljs-string">"tool_type"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样就可以很方便的实现数据转model。</p>
<h2 id="但是如果后台返回的数据对应值不止-1-6-会怎么样呢？"><a href="#但是如果后台返回的数据对应值不止-1-6-会怎么样呢？" class="headerlink" title="但是如果后台返回的数据对应值不止 1~6 会怎么样呢？"></a>但是如果后台返回的数据对应值不止 1~6 会怎么样呢？</h2><p>答案是解析会抛出异常直接报错。</p>
<p>当数据转model的时候，实际调用的是这个方法</p>
<figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">init(from decoder: Decoder) throws</span><br></pre></td></tr></table></figure>

<p>如果出现value和enum的值都匹配不上的情况，并不会返回nil而是直接抛出异常。</p>
<p><strong>所以我们要做的就是当解析出错的时候设置一个默认值</strong></p>
<h2 id="通过extension给Codable协议添加默认值"><a href="#通过extension给Codable协议添加默认值" class="headerlink" title="通过extension给Codable协议添加默认值"></a>通过extension给Codable协议添加默认值</h2><figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">protocol CaseIterableDefaultsLast: Encodable &amp; Decodable &amp; CaseIterable &amp; RawRepresentable where RawValue: Decodable, AllCases: BidirectionalCollection &#123;&#125;</span><br><span class="line"></span><br><span class="line">extension CaseIterableDefaultsLast &#123;</span><br><span class="line">    init(from decoder: Decoder) throws &#123;</span><br><span class="line">        <span class="hljs-keyword">self</span> = try Self(rawValue: decoder.singleValueContainer().decode(RawValue.self)) ?? Self.allCases.last!</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">enum</span> ToolType: String, CaseIterableDefaultsLast &#123;</span><br><span class="line">    <span class="hljs-comment">/// 自行车</span></span><br><span class="line">    <span class="hljs-keyword">case</span> Bike = <span class="hljs-string">"1"</span></span><br><span class="line">    <span class="hljs-comment">/// 电瓶车</span></span><br><span class="line">    <span class="hljs-keyword">case</span> Electromobile = <span class="hljs-string">"2"</span></span><br><span class="line">    <span class="hljs-comment">/// 大踏板车</span></span><br><span class="line">    <span class="hljs-keyword">case</span> Scooter = <span class="hljs-string">"3"</span></span><br><span class="line">    <span class="hljs-comment">/// 摩托车</span></span><br><span class="line">    <span class="hljs-keyword">case</span> Motorbike = <span class="hljs-string">"4"</span></span><br><span class="line">    <span class="hljs-comment">/// 轿车</span></span><br><span class="line">    <span class="hljs-keyword">case</span> Sedan = <span class="hljs-string">"5"</span></span><br><span class="line">    <span class="hljs-comment">/// 小货车</span></span><br><span class="line">    <span class="hljs-keyword">case</span> Buggy = <span class="hljs-string">"6"</span></span><br><span class="line">    <span class="hljs-comment">/// 未知</span></span><br><span class="line">    <span class="hljs-keyword">case</span> Unknown</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果初始化失败返回nil，则默认取最后一个为默认值。</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-07-05T16:08:26.000Z">2020-07-06</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 分钟 读完 (大约 527 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/07/06/UITextView实现点击富文本响应事件/">UITextView实现点击富文本响应事件</a>
            
        </h1>
        <div class="content">
            <blockquote>
<p>前因：开发中常常会遇到点击富文本链接跳转的情况，最常碰到的是在注册的时候会有同意各种协议的文本，点击会跳转显示对应协议。</p>
</blockquote>
<p><img src="/images/2020-07-06-01.png" alt></p>
<p>通过UITextView添加带有超链接的富文本，就可以在delegate的</p>
<figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="hljs-built_in">BOOL</span>)textView:(<span class="hljs-built_in">UITextView</span> *)textView shouldInteractWithURL:(<span class="hljs-built_in">NSURL</span> *)URL inRange:(<span class="hljs-built_in">NSRange</span>)characterRange interaction:(<span class="hljs-built_in">UITextItemInteraction</span>)interaction &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"%@"</span>, URL);</span><br><span class="line">    </span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">YES</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>监听到点击链接的事件。</p>
<p>这样就不用写两个button或者其他方式实现点击效果，方便快捷。</p>
<p>具体设置如下：</p>
<figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">NSMutableAttributedString</span> *mAttr = [[<span class="hljs-built_in">NSMutableAttributedString</span> alloc] initWithString:<span class="hljs-string">@"点击“注册”即表示您同意"</span>];</span><br><span class="line"><span class="hljs-built_in">NSAttributedString</span> *registPolicyAttr = [[<span class="hljs-built_in">NSAttributedString</span> alloc] initWithString:<span class="hljs-string">@"《用户注册服务协议》"</span> attributes:@&#123;</span><br><span class="line">    <span class="hljs-built_in">NSForegroundColorAttributeName</span>: [<span class="hljs-built_in">UIColor</span> colorWithRed:<span class="hljs-number">78</span>/<span class="hljs-number">255.0</span> green:<span class="hljs-number">187</span>/<span class="hljs-number">255.0</span> blue:<span class="hljs-number">192</span>/<span class="hljs-number">255.0</span> alpha:<span class="hljs-number">1.0</span>],</span><br><span class="line">    <span class="hljs-built_in">NSLinkAttributeName</span>: <span class="hljs-string">@"www.baidu.com"</span></span><br><span class="line">&#125;];</span><br><span class="line"><span class="hljs-built_in">NSAttributedString</span> *privacyPolicyAttr = [[<span class="hljs-built_in">NSAttributedString</span> alloc] initWithString:<span class="hljs-string">@"&amp;《用户隐私协议》"</span> attributes:@&#123;</span><br><span class="line">    <span class="hljs-built_in">NSForegroundColorAttributeName</span>: [<span class="hljs-built_in">UIColor</span> colorWithRed:<span class="hljs-number">78</span>/<span class="hljs-number">255.0</span> green:<span class="hljs-number">187</span>/<span class="hljs-number">255.0</span> blue:<span class="hljs-number">192</span>/<span class="hljs-number">255.0</span> alpha:<span class="hljs-number">1.0</span>],</span><br><span class="line">    <span class="hljs-built_in">NSLinkAttributeName</span>: <span class="hljs-string">@"www.google.com"</span></span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">[mAttr appendAttributedString:registPolicyAttr];</span><br><span class="line">[mAttr appendAttributedString:privacyPolicyAttr];</span><br><span class="line"></span><br><span class="line">textView.attributedText = mAttr.copy;</span><br><span class="line">textView.delegate = <span class="hljs-keyword">self</span>;</span><br><span class="line">textView.scrollEnabled = <span class="hljs-literal">NO</span>;</span><br><span class="line">textView.editable = <span class="hljs-literal">NO</span>;</span><br></pre></td></tr></table></figure>

<p>但是还有一些细节的地方需要调整一下。</p>
<h2 id="UITextView的超链接一直是蓝色"><a href="#UITextView的超链接一直是蓝色" class="headerlink" title="UITextView的超链接一直是蓝色"></a>UITextView的超链接一直是蓝色</h2><p>这是因为UITextView自带了样式，我们只需要在设置<code>textView.attributedText</code>之前，把样式清空就行。</p>
<figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">textView.linkTextAttributes = @&#123;&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="点击超链接的时候，会有底色为灰色的高亮显示"><a href="#点击超链接的时候，会有底色为灰色的高亮显示" class="headerlink" title="点击超链接的时候，会有底色为灰色的高亮显示"></a>点击超链接的时候，会有底色为灰色的高亮显示</h2><p>这种系统默认的实现，好像没有找到可以修改的地方（如果有希望大家在评论区告诉我）。只能用别的办法解决，幸好UITextView给我们提供了一个方法，可以根据点击的点获取最近区域的富文本状态，通过判断获取到的富文本是否包含超链接，来响应超链接事件。</p>
<figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="hljs-keyword">void</span>)handleTap:(<span class="hljs-built_in">UITapGestureRecognizer</span> *)tap &#123;</span><br><span class="line">    <span class="hljs-built_in">UITextView</span> *textView = (<span class="hljs-built_in">UITextView</span> *)tap.view;</span><br><span class="line">    <span class="hljs-built_in">CGPoint</span> tapLocation = [tap locationInView:textView];</span><br><span class="line">    <span class="hljs-built_in">UITextPosition</span> *position = [textView closestPositionToPoint:tapLocation];</span><br><span class="line">    <span class="hljs-built_in">NSDictionary</span> *attr = [textView textStylingAtPosition:position inDirection:<span class="hljs-built_in">UITextStorageDirectionForward</span>];</span><br><span class="line">    <span class="hljs-keyword">if</span> ([attr.allKeys containsObject:<span class="hljs-built_in">NSLinkAttributeName</span>]) &#123;</span><br><span class="line">        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"%@"</span>, attr[<span class="hljs-built_in">NSLinkAttributeName</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="禁用文本选择和复制粘贴"><a href="#禁用文本选择和复制粘贴" class="headerlink" title="禁用文本选择和复制粘贴"></a>禁用文本选择和复制粘贴</h2><p>为了让实现效果看起来更像点击了两个按钮，要取消掉UITextView的文本选择和复制粘贴功能。</p>
<figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="hljs-built_in">BOOL</span>)textViewShouldBeginEditing:(<span class="hljs-built_in">UITextView</span> *)textView &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">NO</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>返回NO即可。</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-04-02T08:56:18.000Z">2020-04-02</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 分钟 读完 (大约 329 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/04/02/2020-04-02-02/">NSTimer处理内存泄露</a>
            
        </h1>
        <div class="content">
            <p>一般在一个viewController使用NSTimer</p>
<figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="hljs-keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="hljs-keyword">super</span> viewDidLoad];</span><br><span class="line">    <span class="hljs-keyword">self</span>.timer = [<span class="hljs-built_in">NSTimer</span> scheduledTimerWithTimeInterval:<span class="hljs-number">1.0</span> target:<span class="hljs-keyword">self</span> selector:<span class="hljs-keyword">@selector</span>(doTask) userInfo:<span class="hljs-literal">nil</span> repeats:<span class="hljs-literal">true</span>];</span><br><span class="line">&#125;</span><br><span class="line">- (<span class="hljs-keyword">void</span>)doTask &#123;</span><br><span class="line">    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"to do something"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但是这样会有一个问题，我们退出这个页面的时候，发现定时器还是在运行。</p>
<p>这是因为NSTimer和viewController之间形成了循环引用。</p>
<p>那么如果打破这种循环引用呢？</p>
<p>两种方法：</p>
<ol>
<li><p>手动打破，在viewWillDisappear或者viewDidDisappear中设置为nil。</p>
<figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="hljs-keyword">void</span>)viewWillDisappear:(<span class="hljs-built_in">BOOL</span>)animated &#123;</span><br><span class="line">    [<span class="hljs-keyword">super</span> viewDidDisappear:animated];</span><br><span class="line">    </span><br><span class="line">    [<span class="hljs-keyword">self</span>.timer invalidate];</span><br><span class="line">    <span class="hljs-keyword">self</span>.timer = <span class="hljs-literal">nil</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在NSTimer和viewController之间建立一个中间类来接管target。<br>这里要用到NSProxy，NSProxy是一个抽象的超类，用来充当其它对象或者一些不存在的对象的替身。通常，发送给Proxy的消息会被转发给实际对象，或使Proxy加载（转换为）实际对象。<br>使用的时候需要继承NSProxy，并且重写下面的2个方法：</p>
</li>
</ol>
<ul>
<li><ul>
<li>(NSMethodSignature *)methodSignatureForSelector:(SEL)sel</li>
</ul>
</li>
<li><ul>
<li>(void)forwardInvocation:(NSInvocation *)invocation</li>
</ul>
</li>
</ul>
<figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="hljs-keyword">instancetype</span>)proxyWithTarget:(<span class="hljs-keyword">id</span>)target &#123;</span><br><span class="line">    <span class="hljs-comment">// NSProxy对象不需要调用init，因为它本来就没有init方法</span></span><br><span class="line">    MyProxy *proxy = [MyProxy alloc];</span><br><span class="line">    proxy.target = target;</span><br><span class="line">    <span class="hljs-keyword">return</span> proxy;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="hljs-built_in">NSMethodSignature</span> *)methodSignatureForSelector:(SEL)sel &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> [<span class="hljs-keyword">self</span>.target methodSignatureForSelector:sel];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="hljs-keyword">void</span>)forwardInvocation:(<span class="hljs-built_in">NSInvocation</span> *)invocation &#123;</span><br><span class="line">    [invocation invokeWithTarget:<span class="hljs-keyword">self</span>.target];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在使用的时候</p>
<figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">self</span>.timer = [<span class="hljs-built_in">NSTimer</span> scheduledTimerWithTimeInterval:<span class="hljs-number">1.0</span> target:[MyProxy proxyWithTarget:<span class="hljs-keyword">self</span>] selector:<span class="hljs-keyword">@selector</span>(doTask) userInfo:<span class="hljs-literal">nil</span> repeats:<span class="hljs-literal">YES</span>];</span><br></pre></td></tr></table></figure>


        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-04-02T07:13:22.000Z">2020-04-02</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    17 分钟 读完 (大约 2621 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/04/02/2020-04-02-01/">简单了解iOS中的锁</a>
            
        </h1>
        <div class="content">
            <h2 id="为什么会有线程不安全呢？"><a href="#为什么会有线程不安全呢？" class="headerlink" title="为什么会有线程不安全呢？"></a>为什么会有线程不安全呢？</h2><p>多个线程并发，就会出现同时访问一个资源的情况。</p>
<figure class="highlight objc hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="hljs-keyword">void</span>)ticketTest &#123;</span><br><span class="line">    <span class="hljs-keyword">self</span>.ticketsCount = <span class="hljs-number">50</span>;</span><br><span class="line">    <span class="hljs-built_in">dispatch_queue_t</span> queue = dispatch_get_global_queue(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) &#123;</span><br><span class="line">        <span class="hljs-built_in">dispatch_async</span>(queue, ^&#123;</span><br><span class="line">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;</span><br><span class="line">                [<span class="hljs-keyword">self</span> sellingTickets];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="hljs-keyword">void</span>)sellingTickets &#123;</span><br><span class="line">    <span class="hljs-built_in">NSInteger</span> oldMoney = <span class="hljs-keyword">self</span>.ticketsCount;</span><br><span class="line">    sleep(<span class="hljs-number">.2</span>);</span><br><span class="line">    oldMoney -= <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-keyword">self</span>.ticketsCount = oldMoney;</span><br><span class="line">    </span><br><span class="line">    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"当前剩余票数-&gt; %ld"</span>, oldMoney);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>一个经典的卖票demo。ticketsCount被多个线程同时访问，就有可能读取到的值是相同的，那么票就会显示少买。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">2020-04-01 23:35:19.022896+0800 AwesomeOC[7740:2183272] 当前剩余票数-&gt; 7</span><br><span class="line">2020-04-01 23:35:19.023000+0800 AwesomeOC[7740:2183274] 当前剩余票数-&gt; 6</span><br><span class="line">2020-04-01 23:35:19.023170+0800 AwesomeOC[7740:2183275] 当前剩余票数-&gt; 5</span><br><span class="line">2020-04-01 23:35:19.023767+0800 AwesomeOC[7740:2183275] 当前剩余票数-&gt; 4</span><br></pre></td></tr></table></figure>

<p>最后打印结果就和实际不同。</p>
<h2 id="怎么解决呢？加锁！"><a href="#怎么解决呢？加锁！" class="headerlink" title="怎么解决呢？加锁！"></a>怎么解决呢？加锁！</h2><h3 id="自旋锁"><a href="#自旋锁" class="headerlink" title="自旋锁"></a>自旋锁</h3><p>如果自旋锁已经被别的执行单元保持，那么调用者就一直循环在那里看是否该自旋锁的保持着已经释放了锁，所以称为“自旋”。自旋锁会一直循环，所以不会引起调用者睡眠，且自旋锁的效率远高于互斥锁。但是有缺点：1.由于一直循环，所以会一直占用CPU，如果不能在短时间内获得锁，会使CPU效率降低，CPU消耗是线性增长的；2.容易造成死锁，比如递归调用，调用其他函数</p>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2020/04/02/2020-04-02-01/#more">阅读更多</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-03-24T16:07:42.000Z">2020-03-25</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    19 分钟 读完 (大约 2872 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/03/25/2020-03-25-01/">了解Category</a>
            
        </h1>
        <div class="content">
            <h2 id="简单了解"><a href="#简单了解" class="headerlink" title="简单了解"></a>简单了解</h2><p>OC2.0之后添加的语言特性，主要为已经存在的类添加方法。<br>Apple推荐的两个使用场景：</p>
<ol>
<li>把类的实现分开在不同的文件里面。<ol>
<li>可以减少单个文件的体积</li>
<li>可以把不同的功能组织到不同的Category里</li>
<li>可以由多个开发者共同开发一个类</li>
<li>可以按需加载想要的Category</li>
</ol>
</li>
<li>声明私有方法</li>
</ol>
<p>衍生的使用场景：</p>
<ol>
<li>模拟多继承</li>
<li>把framework的私有方法公开</li>
</ol>
<h2 id="和extension区别"><a href="#和extension区别" class="headerlink" title="和extension区别"></a>和extension区别</h2><ol>
<li>extension在编译器决定，它就是类的一部分，在编译期和头文件里的@interface和实现文件里的@implementation一起形成一个完整的类。它伴随类的产生而产生，也随类一起消亡。</li>
<li>extension一般用来隐藏类的私有信息，你必须有一个类的源码才能为一个类添加extension，我们无法为系统类比如NSString添加extension。</li>
<li>category是在运行期决定的。</li>
<li>category无法添加实例变量，而extension可以。因为在运行期，对象的内存布局已经确定，如果添加实例变量就会破坏类的内部布局。</li></ol>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2020/03/25/2020-03-25-01/#more">阅读更多</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous is-invisible is-hidden-mobile">
            <a class="is-flex-grow has-text-black-ter" href="/tags/iOS/page/0/">上一页</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/tags/iOS/page/2/">下一页</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link is-current" href="/tags/iOS/">1</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/tags/iOS/page/2/">2</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/tags/iOS/page/3/">3</a></li>
            
        </ul>
    </nav>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                        <img class="image is-128x128 has-mb-6" src="/images/avatar.png" alt="Harley">
                    
                    
                    <p class="is-size-4 is-block">
                        Harley
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        人一旦有了梦想，怎么活都是有灵魂的
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>杭州</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        文章
                    </p>
                    <p class="title has-text-weight-normal">
                        50
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        分类
                    </p>
                    <p class="title has-text-weight-normal">
                        9
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        标签
                    </p>
                    <p class="title has-text-weight-normal">
                        58
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="mailto:leejnull@gmail.com" target="_blank">
                联系我</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Github" href="https://github.com/leejnull">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            链接
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://apps.apple.com/cn/app/id1505698199" target="_blank">
                    <span class="level-left">
                        <span class="level-item">一次记账</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">apps.apple.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://apps.apple.com/cn/app/id1576106041" target="_blank">
                    <span class="level-left">
                        <span class="level-item">节日倒数</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">apps.apple.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                分类
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/Git/">
            <span class="level-start">
                <span class="level-item">Git</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Go/">
            <span class="level-start">
                <span class="level-item">Go</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Python/">
            <span class="level-start">
                <span class="level-item">Python</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/iOS/">
            <span class="level-start">
                <span class="level-item">iOS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">24</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/数据库/">
            <span class="level-start">
                <span class="level-item">数据库</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/数据结构与算法/">
            <span class="level-start">
                <span class="level-item">数据结构与算法</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">10</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/日常/">
            <span class="level-start">
                <span class="level-item">日常</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/朝花夕拾/">
            <span class="level-start">
                <span class="level-item">朝花夕拾</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/运维/">
            <span class="level-start">
                <span class="level-item">运维</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            标签云
        </h3>
        <a href="/tags/Codable/" style="font-size: 10px;">Codable</a> <a href="/tags/Crash/" style="font-size: 10px;">Crash</a> <a href="/tags/Django/" style="font-size: 13.33px;">Django</a> <a href="/tags/Event/" style="font-size: 10px;">Event</a> <a href="/tags/ISA/" style="font-size: 10px;">ISA</a> <a href="/tags/KVC/" style="font-size: 10px;">KVC</a> <a href="/tags/KVO/" style="font-size: 10px;">KVO</a> <a href="/tags/Mac使用/" style="font-size: 11.67px;">Mac使用</a> <a href="/tags/MarkDown/" style="font-size: 10px;">MarkDown</a> <a href="/tags/Mysql/" style="font-size: 10px;">Mysql</a> <a href="/tags/Python/" style="font-size: 11.67px;">Python</a> <a href="/tags/RunLoop/" style="font-size: 10px;">RunLoop</a> <a href="/tags/Swift/" style="font-size: 11.67px;">Swift</a> <a href="/tags/UITextView/" style="font-size: 10px;">UITextView</a> <a href="/tags/Vue/" style="font-size: 10px;">Vue</a> <a href="/tags/Xcode/" style="font-size: 10px;">Xcode</a> <a href="/tags/Xib/" style="font-size: 10px;">Xib</a> <a href="/tags/flag/" style="font-size: 10px;">flag</a> <a href="/tags/iOS/" style="font-size: 20px;">iOS</a> <a href="/tags/import/" style="font-size: 10px;">import</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/package/" style="font-size: 10px;">package</a> <a href="/tags/pip/" style="font-size: 10px;">pip</a> <a href="/tags/runtime/" style="font-size: 10px;">runtime</a> <a href="/tags/sql/" style="font-size: 11.67px;">sql</a> <a href="/tags/uwsgi/" style="font-size: 10px;">uwsgi</a> <a href="/tags/优化/" style="font-size: 10px;">优化</a> <a href="/tags/位运算/" style="font-size: 10px;">位运算</a> <a href="/tags/内存/" style="font-size: 11.67px;">内存</a> <a href="/tags/动画/" style="font-size: 10px;">动画</a> <a href="/tags/原理/" style="font-size: 10px;">原理</a> <a href="/tags/哈希表/" style="font-size: 10px;">哈希表</a> <a href="/tags/图层/" style="font-size: 10px;">图层</a> <a href="/tags/基础/" style="font-size: 11.67px;">基础</a> <a href="/tags/多线程/" style="font-size: 11.67px;">多线程</a> <a href="/tags/字符串/" style="font-size: 10px;">字符串</a> <a href="/tags/学习笔记/" style="font-size: 18.33px;">学习笔记</a> <a href="/tags/定时器/" style="font-size: 10px;">定时器</a> <a href="/tags/富文本/" style="font-size: 10px;">富文本</a> <a href="/tags/小感想/" style="font-size: 10px;">小感想</a> <a href="/tags/小技巧/" style="font-size: 10px;">小技巧</a> <a href="/tags/并发/" style="font-size: 10px;">并发</a> <a href="/tags/底层/" style="font-size: 11.67px;">底层</a> <a href="/tags/性能/" style="font-size: 10px;">性能</a> <a href="/tags/报错/" style="font-size: 10px;">报错</a> <a href="/tags/排序/" style="font-size: 15px;">排序</a> <a href="/tags/数据结构/" style="font-size: 11.67px;">数据结构</a> <a href="/tags/日常反思/" style="font-size: 10px;">日常反思</a> <a href="/tags/日常开发/" style="font-size: 11.67px;">日常开发</a> <a href="/tags/架构/" style="font-size: 10px;">架构</a> <a href="/tags/正则表达式/" style="font-size: 10px;">正则表达式</a> <a href="/tags/算法/" style="font-size: 16.67px;">算法</a> <a href="/tags/结构体/" style="font-size: 10px;">结构体</a> <a href="/tags/绘制/" style="font-size: 11.67px;">绘制</a> <a href="/tags/翻译/" style="font-size: 10px;">翻译</a> <a href="/tags/链表/" style="font-size: 10px;">链表</a> <a href="/tags/锁/" style="font-size: 10px;">锁</a> <a href="/tags/队列/" style="font-size: 10px;">队列</a>
    </div>
</div>

    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2021-04-12T16:38:22.000Z">2021-04-13</time></div>
                    <a href="/2021/04/13/iOS绘制五角星，实现小数点分数填充/" class="title has-link-black-ter is-size-6 has-text-weight-normal">iOS绘制五角星，实现小数点分数填充</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-12-09T14:43:35.000Z">2020-12-09</time></div>
                    <a href="/2020/12/09/schema实现iOS项目多环境配置/" class="title has-link-black-ter is-size-6 has-text-weight-normal">schema实现iOS项目多环境配置</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-11-19T16:15:36.000Z">2020-11-20</time></div>
                    <a href="/2020/11/20/iOS绘制仪表盘，游标沿圆形轨迹移动动画/" class="title has-link-black-ter is-size-6 has-text-weight-normal">iOS绘制仪表盘，游标沿圆形轨迹移动动画</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-09-19T06:29:51.000Z">2020-09-19</time></div>
                    <a href="/2020/09/19/关于结构体的内存对齐以及嵌套结构体的内存计算/" class="title has-link-black-ter is-size-6 has-text-weight-normal">关于结构体的内存对齐以及嵌套结构体的内存计算</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-09-16T15:06:45.000Z">2020-09-16</time></div>
                    <a href="/2020/09/16/彻底区分isKindOfClass和isMemberOfClass/" class="title has-link-black-ter is-size-6 has-text-weight-normal">彻底区分isKindOfClass和isMemberOfClass</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2021/04/">
                <span class="level-start">
                    <span class="level-item">四月 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/09/">
                <span class="level-start">
                    <span class="level-item">九月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/07/">
                <span class="level-start">
                    <span class="level-item">七月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/04/">
                <span class="level-start">
                    <span class="level-item">四月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">三月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">17</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">二月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">一月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/09/">
                <span class="level-start">
                    <span class="level-item">九月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">八月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Codable/">
                        <span class="tag">Codable</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Crash/">
                        <span class="tag">Crash</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Django/">
                        <span class="tag">Django</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Event/">
                        <span class="tag">Event</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ISA/">
                        <span class="tag">ISA</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/KVC/">
                        <span class="tag">KVC</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/KVO/">
                        <span class="tag">KVO</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Mac使用/">
                        <span class="tag">Mac使用</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MarkDown/">
                        <span class="tag">MarkDown</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Mysql/">
                        <span class="tag">Mysql</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Python/">
                        <span class="tag">Python</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RunLoop/">
                        <span class="tag">RunLoop</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Swift/">
                        <span class="tag">Swift</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UITextView/">
                        <span class="tag">UITextView</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Vue/">
                        <span class="tag">Vue</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Xcode/">
                        <span class="tag">Xcode</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Xib/">
                        <span class="tag">Xib</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/flag/">
                        <span class="tag">flag</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/iOS/">
                        <span class="tag">iOS</span>
                        <span class="tag is-grey">22</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/import/">
                        <span class="tag">import</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/nginx/">
                        <span class="tag">nginx</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/package/">
                        <span class="tag">package</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/pip/">
                        <span class="tag">pip</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/runtime/">
                        <span class="tag">runtime</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/sql/">
                        <span class="tag">sql</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/uwsgi/">
                        <span class="tag">uwsgi</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/优化/">
                        <span class="tag">优化</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/位运算/">
                        <span class="tag">位运算</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/内存/">
                        <span class="tag">内存</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/动画/">
                        <span class="tag">动画</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/原理/">
                        <span class="tag">原理</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/哈希表/">
                        <span class="tag">哈希表</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/图层/">
                        <span class="tag">图层</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/基础/">
                        <span class="tag">基础</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/多线程/">
                        <span class="tag">多线程</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/字符串/">
                        <span class="tag">字符串</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/学习笔记/">
                        <span class="tag">学习笔记</span>
                        <span class="tag is-grey">14</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/定时器/">
                        <span class="tag">定时器</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/富文本/">
                        <span class="tag">富文本</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/小感想/">
                        <span class="tag">小感想</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/小技巧/">
                        <span class="tag">小技巧</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/并发/">
                        <span class="tag">并发</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/底层/">
                        <span class="tag">底层</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/性能/">
                        <span class="tag">性能</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/报错/">
                        <span class="tag">报错</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/排序/">
                        <span class="tag">排序</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数据结构/">
                        <span class="tag">数据结构</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/日常反思/">
                        <span class="tag">日常反思</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/日常开发/">
                        <span class="tag">日常开发</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/架构/">
                        <span class="tag">架构</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/正则表达式/">
                        <span class="tag">正则表达式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/算法/">
                        <span class="tag">算法</span>
                        <span class="tag is-grey">8</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/结构体/">
                        <span class="tag">结构体</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/绘制/">
                        <span class="tag">绘制</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/翻译/">
                        <span class="tag">翻译</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/链表/">
                        <span class="tag">链表</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/锁/">
                        <span class="tag">锁</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/队列/">
                        <span class="tag">队列</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2021-04-12T16:38:22.000Z">2021-04-13</time></div>
                    <a href="/2021/04/13/iOS绘制五角星，实现小数点分数填充/" class="title has-link-black-ter is-size-6 has-text-weight-normal">iOS绘制五角星，实现小数点分数填充</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-12-09T14:43:35.000Z">2020-12-09</time></div>
                    <a href="/2020/12/09/schema实现iOS项目多环境配置/" class="title has-link-black-ter is-size-6 has-text-weight-normal">schema实现iOS项目多环境配置</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-11-19T16:15:36.000Z">2020-11-20</time></div>
                    <a href="/2020/11/20/iOS绘制仪表盘，游标沿圆形轨迹移动动画/" class="title has-link-black-ter is-size-6 has-text-weight-normal">iOS绘制仪表盘，游标沿圆形轨迹移动动画</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-09-19T06:29:51.000Z">2020-09-19</time></div>
                    <a href="/2020/09/19/关于结构体的内存对齐以及嵌套结构体的内存计算/" class="title has-link-black-ter is-size-6 has-text-weight-normal">关于结构体的内存对齐以及嵌套结构体的内存计算</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-09-16T15:06:45.000Z">2020-09-16</time></div>
                    <a href="/2020/09/16/彻底区分isKindOfClass和isMemberOfClass/" class="title has-link-black-ter is-size-6 has-text-weight-normal">彻底区分isKindOfClass和isMemberOfClass</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/iOS/">iOS</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2021/04/">
                <span class="level-start">
                    <span class="level-item">四月 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/09/">
                <span class="level-start">
                    <span class="level-item">九月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/07/">
                <span class="level-start">
                    <span class="level-item">七月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/04/">
                <span class="level-start">
                    <span class="level-item">四月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">三月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">17</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">二月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">一月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/09/">
                <span class="level-start">
                    <span class="level-item">九月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">八月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Codable/">
                        <span class="tag">Codable</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Crash/">
                        <span class="tag">Crash</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Django/">
                        <span class="tag">Django</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Event/">
                        <span class="tag">Event</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ISA/">
                        <span class="tag">ISA</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/KVC/">
                        <span class="tag">KVC</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/KVO/">
                        <span class="tag">KVO</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Mac使用/">
                        <span class="tag">Mac使用</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MarkDown/">
                        <span class="tag">MarkDown</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Mysql/">
                        <span class="tag">Mysql</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Python/">
                        <span class="tag">Python</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RunLoop/">
                        <span class="tag">RunLoop</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Swift/">
                        <span class="tag">Swift</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UITextView/">
                        <span class="tag">UITextView</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Vue/">
                        <span class="tag">Vue</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Xcode/">
                        <span class="tag">Xcode</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Xib/">
                        <span class="tag">Xib</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/flag/">
                        <span class="tag">flag</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/iOS/">
                        <span class="tag">iOS</span>
                        <span class="tag is-grey">22</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/import/">
                        <span class="tag">import</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/nginx/">
                        <span class="tag">nginx</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/package/">
                        <span class="tag">package</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/pip/">
                        <span class="tag">pip</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/runtime/">
                        <span class="tag">runtime</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/sql/">
                        <span class="tag">sql</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/uwsgi/">
                        <span class="tag">uwsgi</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/优化/">
                        <span class="tag">优化</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/位运算/">
                        <span class="tag">位运算</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/内存/">
                        <span class="tag">内存</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/动画/">
                        <span class="tag">动画</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/原理/">
                        <span class="tag">原理</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/哈希表/">
                        <span class="tag">哈希表</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/图层/">
                        <span class="tag">图层</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/基础/">
                        <span class="tag">基础</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/多线程/">
                        <span class="tag">多线程</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/字符串/">
                        <span class="tag">字符串</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/学习笔记/">
                        <span class="tag">学习笔记</span>
                        <span class="tag is-grey">14</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/定时器/">
                        <span class="tag">定时器</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/富文本/">
                        <span class="tag">富文本</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/小感想/">
                        <span class="tag">小感想</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/小技巧/">
                        <span class="tag">小技巧</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/并发/">
                        <span class="tag">并发</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/底层/">
                        <span class="tag">底层</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/性能/">
                        <span class="tag">性能</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/报错/">
                        <span class="tag">报错</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/排序/">
                        <span class="tag">排序</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数据结构/">
                        <span class="tag">数据结构</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/日常反思/">
                        <span class="tag">日常反思</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/日常开发/">
                        <span class="tag">日常开发</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/架构/">
                        <span class="tag">架构</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/正则表达式/">
                        <span class="tag">正则表达式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/算法/">
                        <span class="tag">算法</span>
                        <span class="tag is-grey">8</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/结构体/">
                        <span class="tag">结构体</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/绘制/">
                        <span class="tag">绘制</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/翻译/">
                        <span class="tag">翻译</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/链表/">
                        <span class="tag">链表</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/锁/">
                        <span class="tag">锁</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/队列/">
                        <span class="tag">队列</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

                
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="lee的博客" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2021 Lee JJ&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>

<script>
var IcarusThemeSettings = {
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>



    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="回到顶端" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="想要查找什么..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>